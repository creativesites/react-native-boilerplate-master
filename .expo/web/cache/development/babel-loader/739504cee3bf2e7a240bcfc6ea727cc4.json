{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/extends\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nvar _jsxFileName = \"C:\\\\Users\\\\winston\\\\Documents\\\\react-native-boilerplate-master\\\\node_modules\\\\react-native-d3multiline-chart\\\\utils\\\\AnimatedSVGState\\\\index.js\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component } from 'react';\nimport omit from 'lodash/omit';\n\nfunction createState(props, keys) {\n  return keys.reduce(function (acc, key) {\n    var value = props[key];\n\n    if (value != null) {\n      acc[key] = value;\n    }\n\n    return acc;\n  }, {});\n}\n\nexport default function SvgStateFix(WrappedComponent) {\n  var _temp;\n\n  var propToStateKeys = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n\n  var _ref = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {},\n      cancelSetNativeProps = _ref.cancelSetNativeProps;\n\n  return _temp = function (_Component) {\n    _inherits(_temp, _Component);\n\n    var _super = _createSuper(_temp);\n\n    function _temp() {\n      var _this;\n\n      _classCallCheck(this, _temp);\n\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      _this = _super.call.apply(_super, [this].concat(args));\n      _this.state = createState(_this.props, propToStateKeys);\n\n      _this.setNativeProps = function (props) {\n        if (!cancelSetNativeProps) {\n          var nativeProps = omit(props, propToStateKeys);\n          _this._component && _this._component.setNativeProps(nativeProps);\n        }\n\n        var newState = createState(props, propToStateKeys);\n\n        _this.setState(newState);\n      };\n\n      return _this;\n    }\n\n    _createClass(_temp, [{\n      key: \"render\",\n      value: function render() {\n        var _this2 = this;\n\n        return React.createElement(WrappedComponent, _extends({\n          ref: function ref(component) {\n            return _this2._component = component;\n          }\n        }, this.props, this.state, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 32,\n            columnNumber: 9\n          }\n        }));\n      }\n    }]);\n\n    return _temp;\n  }(Component), _temp;\n}","map":{"version":3,"sources":["C:/Users/winston/Documents/react-native-boilerplate-master/node_modules/react-native-d3multiline-chart/utils/AnimatedSVGState/index.js"],"names":["React","Component","omit","createState","props","keys","reduce","acc","key","value","SvgStateFix","WrappedComponent","propToStateKeys","cancelSetNativeProps","state","setNativeProps","nativeProps","_component","newState","setState","component"],"mappings":";;;;;;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,IAAP,MAAiB,aAAjB;;AAOA,SAASC,WAAT,CAAqBC,KAArB,EAA4BC,IAA5B,EAAkC;AAChC,SAAOA,IAAI,CAACC,MAAL,CAAY,UAACC,GAAD,EAAMC,GAAN,EAAc;AAC/B,QAAMC,KAAK,GAAGL,KAAK,CAACI,GAAD,CAAnB;;AACA,QAAIC,KAAK,IAAI,IAAb,EAAmB;AACjBF,MAAAA,GAAG,CAACC,GAAD,CAAH,GAAWC,KAAX;AACD;;AACD,WAAOF,GAAP;AACD,GANM,EAMJ,EANI,CAAP;AAOD;;AAED,eAAe,SAASG,WAAT,CAAqBC,gBAArB,EAA4F;AAAA;;AAAA,MAArDC,eAAqD,uEAAnC,EAAmC;;AAAA,iFAAJ,EAAI;AAAA,MAA7BC,oBAA6B,QAA7BA,oBAA6B;;AACzG;AAAA;;AAAA;;AAAA;AAAA;;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA,YACEC,KADF,GACUX,WAAW,CAAC,MAAKC,KAAN,EAAaQ,eAAb,CADrB;;AAAA,YAEEG,cAFF,GAEmB,UAACX,KAAD,EAAW;AAC1B,YAAI,CAACS,oBAAL,EAA2B;AACzB,cAAMG,WAAW,GAAGd,IAAI,CAACE,KAAD,EAAQQ,eAAR,CAAxB;AACA,gBAAKK,UAAL,IAAmB,MAAKA,UAAL,CAAgBF,cAAhB,CAA+BC,WAA/B,CAAnB;AACD;;AACD,YAAME,QAAQ,GAAGf,WAAW,CAACC,KAAD,EAAQQ,eAAR,CAA5B;;AACA,cAAKO,QAAL,CAAcD,QAAd;AACD,OATH;;AAAA;AAAA;;AAAA;AAAA;AAAA,aAUE,kBAAS;AAAA;;AACP,eACE,oBAAC,gBAAD;AACE,UAAA,GAAG,EAAE,aAAAE,SAAS;AAAA,mBAAK,MAAI,CAACH,UAAL,GAAkBG,SAAvB;AAAA;AADhB,WAEM,KAAKhB,KAFX,EAGM,KAAKU,KAHX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WADF;AAOD;AAlBH;;AAAA;AAAA,IAAqBb,SAArB;AAoBD","sourcesContent":["import React, { Component } from 'react';\r\nimport omit from 'lodash/omit';\r\n\r\n/**\r\n * Problem: Some props cannot be animated through setNativeProps\r\n * Solution: Use state for those and use setNativeProps for the rest\r\n */\r\n\r\nfunction createState(props, keys) {\r\n  return keys.reduce((acc, key) => {\r\n    const value = props[key];\r\n    if (value != null) {\r\n      acc[key] = value;\r\n    }\r\n    return acc;\r\n  }, {});\r\n}\r\n\r\nexport default function SvgStateFix(WrappedComponent, propToStateKeys = [], { cancelSetNativeProps } = {}) {\r\n  return class extends Component {\r\n    state = createState(this.props, propToStateKeys);\r\n    setNativeProps = (props) => {\r\n      if (!cancelSetNativeProps) {\r\n        const nativeProps = omit(props, propToStateKeys);\r\n        this._component && this._component.setNativeProps(nativeProps);\r\n      }\r\n      const newState = createState(props, propToStateKeys);\r\n      this.setState(newState);\r\n    }\r\n    render() {\r\n      return (\r\n        <WrappedComponent\r\n          ref={component => (this._component = component)}\r\n          {...this.props}\r\n          {...this.state}\r\n        />\r\n      );\r\n    }\r\n  };\r\n}"]},"metadata":{},"sourceType":"module"}